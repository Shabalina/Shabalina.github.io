{"version":3,"sources":["components/Login/Login.module.css","modules/Auth/actions.js","modules/Auth/auth.js","modules/Auth/api.js","modules/Auth/sagas.js","modules/Order/actions.js","modules/Order/order.js","modules/Order/api.js","modules/Order/sagas.js","modules/index.js","store.js","components/PrivateRoute/PrivateRoute.js","components/App/App.js","components/Login/Login.js","components/MainMap/MainMap.js","HOC/WithLocalStorage/WithLocalStorage.js","localstorage.js","components/TaxiOrder/TaxiOrder.js","components/TaxiOrder/api.js","components/Profile/Profile.js","index.js","components/RootRouter/RootRouter.js"],"names":["module","exports","root","addLoginData","createAction","loginSuccess","loginError","logOut","isAuthorized","handleActions","_handleActions","Object","defineProperty","error","_handleActions2","_state","action","payload","combineReducers","getIsAuthorized","state","auth","getIsError","console","log","sendLoginData","login","password","fetch","concat","then","response","status","Promise","reject","json","authFlow","_action$payload","_ref","success","regenerator_default","a","wrap","_context","prev","next","call","sent","put","t0","stop","_marked","this","_callee","_context2","takeEvery","_marked2","createTaxiOrder","resetTaxiOrder","createRoute","createRouteError","isOrder","order_handleActions","route","order_handleActions2","_handleActions3","getIsOrder","order","getRouteList","coords","getRoute","from","to","orderFlow","sagas_marked","sagas_callee","sagas_marked2","rootSaga","form","formReducer","fork","authSagas","orderSagas","modules_marked","createAppStore","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","run","PrivateRoute","renderRoute","routeProps","_this$props","_this","props","RouteComponent","component","react_default","createElement","Redirect","_this$props2","rest","objectWithoutProperties","Route","assign","render","Component","connect","App","classes","className","AppBar_default","position","color","Toolbar_default","Typography_default","variant","grow","Button_default","button","Link","link","onClick","PureComponent","withStyles","theme","flexGrow","margin","spacing","unit","textDecoration","Login","handleChange","event","setState","target","name","value","trim","toLowerCase","handleSubmit","_this$state","renderLoginForm","isError","_this$state2","Grid_default","alignItems","style","direction","justify","container","Paper_default","text","FormControl_default","formControl","required","Input_default","id","type","placeholder","onChange","aria-describedby","FormHelperText_default","objectSpread","mixins","gutters","display","flexDirection","justifyContent","maxWidth","height","paddingTop","paddingBottom","textAlign","width","flexWrap","dense","marginTop","menu","input","Map","map","mapContainer","React","createRef","mapboxgl","accessToken","current","center","zoom","routeList","toggleVisible","mapFlyTo","option","getLayer","setLayoutProperty","addRouteLayer","addLayer","source","data","properties","geometry","coordinates","layout","line-join","line-cap","paint","line-color","line-width","flyTo","speed","curve","easing","t","remove","ref","zIndex","top","bottom","left","right","withLocalstorage","localStorageKey","initData","WrappedComponent","_class","_temp","_Component","_getPrototypeOf2","classCallCheck","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","apply","saveData","localStorage","setItem","JSON","stringify","save","forceUpdate","savedData","stringData","getItem","parse","e","load","inherits","createClass","key","displayName","TaxiOrder","address","addressList","handleReset","renderResetForm","paragraph","renderProfileLink","renderOrderForm","form_container","noValidate","autoComplete","TextField_default","select","classNames","textField","MenuItem_default","disabled","_this2","jsonData","addresses","MainMap","padding","marginLeft","marginRight","border","CVVLength","undefined","cardName","test","cardNumber","customField","defaultValue","lable","_ref$meta","meta","touched","warning","Profile","formValue","expDat","CVV","isSubmt","newData","fieldName","push","tempObj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","field","err","return","grid","renderMapLink","renderForm","onSubmit","val","Field","validate","reduxForm","minWidth","ReactDOM","react_redux_es","BrowserRouter","components_App_App","Switch","path","components_PrivateRoute_PrivateRoute","document","getElementById"],"mappings":"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","file":"static/js/main.9a794de7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Login_root__1Ioi4\"};","import { createAction } from 'redux-actions';\r\n\r\nexport const addLoginData = createAction('AUTH/ADD_LOGIN_DATA')\r\nexport const loginSuccess = createAction('AUTH/LOGIN_SUCCESS')\r\nexport const loginError = createAction('AUTH/LOGIN_ERROR')\r\nexport const logOut = createAction('AUTH/LOG_OUT')\r\n","// Реализуйте редьюсер\r\nimport { combineReducers } from 'redux';\r\nimport { handleActions } from 'redux-actions';\r\nimport {loginSuccess, loginError, logOut} from './actions';\r\n\r\nconst isAuthorized = handleActions(\r\n    {\r\n        [loginSuccess]:() => true,\r\n        [loginError]:() => false,\r\n        [logOut]:() => false\r\n\r\n    },false,\r\n)\r\n\r\nconst error = handleActions(\r\n    {\r\n        [loginSuccess]:() => null,\r\n        [loginError]:(_state, action) => action.payload,\r\n        [logOut]:() => null\r\n\r\n    },null,\r\n)   \r\n\r\nexport default combineReducers({\r\n    isAuthorized,\r\n    error\r\n})\r\n\r\n//export const getApiKey = state => state.auth.apiKey\r\nexport const getIsAuthorized = state => state.auth.isAuthorized;\r\nexport const getIsError = state => {\r\n    console.log('from reducer', !!state.auth.error)\r\n    return !!state.auth.error\r\n};\r\n\r\n\r\n","export const sendLoginData = (login, password) =>  \r\nfetch(    \r\n  `https://loft-taxi.glitch.me/auth?` +\r\n    `username=${login}` +\r\n    `&password=${password}`\r\n).then(\r\n  response =>\r\n    response.status !== 200 ? Promise.reject(response) : response.json()\r\n)","import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport {loginSuccess, loginError, addLoginData} from './actions'\r\nimport { sendLoginData } from './api';\r\n\r\nfunction* authFlow(action) {\r\n    const { login, password } = action.payload;\r\n  \r\n    try {\r\n        const { success, error} = yield call(sendLoginData, login, password);  \r\n        success\r\n        ? yield put(loginSuccess())\r\n        : yield put(loginError(error));\r\n      \r\n    } catch (error) {\r\n      yield put(loginError(error));\r\n    }\r\n  }\r\n\r\nexport default function*() {\r\n    \r\n    yield takeEvery(addLoginData, authFlow);    \r\n  }","import { createAction } from 'redux-actions';\r\n\r\nexport const createTaxiOrder = createAction('ORDER/CREATE_TAXI_ORDER')\r\nexport const resetTaxiOrder = createAction('ORDER/RESET_TAXI_ORDER')\r\nexport const createRoute = createAction('ORDER/CREATE_ROUTE')\r\nexport const createRouteError = createAction('ORDER/CREATE_ROUTE_ERROR')","// Реализуйте редьюсер\r\nimport { combineReducers } from 'redux';\r\nimport { handleActions } from 'redux-actions';\r\nimport {resetTaxiOrder, createRoute, createRouteError} from './actions';\r\n\r\nconst isOrder = handleActions(\r\n    {\r\n        [createRoute]:() => true,\r\n        [createRouteError]:() => false,\r\n        [resetTaxiOrder]:() => false\r\n\r\n    },false,\r\n)\r\n\r\nconst route = handleActions(\r\n    {\r\n        [createRoute]:(_state, action) => action.payload,\r\n        [createRouteError]:() => [],\r\n        [resetTaxiOrder]:() => []\r\n\r\n    },[],\r\n)\r\n\r\nconst error = handleActions(\r\n    {\r\n        [createRoute]:() => null,\r\n        [createRouteError]:(_state, action) => action.payload,\r\n        [resetTaxiOrder]:() => null\r\n\r\n    },null,\r\n)   \r\n\r\nexport default combineReducers({\r\n    isOrder,\r\n    route,\r\n    error\r\n})\r\n\r\n//export const getApiKey = state => state.auth.apiKey\r\nexport const getIsOrder = state => state.order.isOrder;\r\nexport const getRouteList = state => state.order.route.coords;\r\n\r\n\r\n","export const getRoute = (from, to) =>  (\r\n  fetch(    \r\n    `https://loft-taxi.glitch.me/route?` +\r\n      `address1=${from}` +\r\n      `&address2=${to}`\r\n  ).then(\r\n    response =>\r\n      response.status !== 200 ? Promise.reject(response) : response.json()\r\n  )\r\n)\r\n","import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport {createTaxiOrder, createRoute, createRouteError} from './actions'\r\nimport { getRoute } from './api';\r\n\r\nfunction* orderFlow(action) {\r\n    const { from, to } = action.payload;  \r\n    try {\r\n        const coords = yield call(getRoute, from, to);  \r\n        yield put(createRoute({coords}))      \r\n    } catch (error) {\r\n        yield put(createRouteError(error));\r\n    }\r\n  }\r\n\r\nexport default function*() {\r\n    \r\n    yield takeEvery(createTaxiOrder, orderFlow);    \r\n  }","import { combineReducers } from 'redux';\r\nimport { fork } from 'redux-saga/effects';\r\nimport auth, { sagas as authSagas } from './Auth';\r\nimport order, { sagas as orderSagas } from './Order';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nexport default combineReducers({ auth, order, form:formReducer });\r\n\r\nexport function* rootSaga() {\r\n  yield fork(authSagas);\r\n  yield fork(orderSagas);\r\n}\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer, { rootSaga } from './modules';\r\n\r\nconst createAppStore = () => {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createStore(\r\n    rootReducer,\r\n    compose(\r\n      applyMiddleware(sagaMiddleware),\r\n      window.__REDUX_DEVTOOLS_EXTENSION__\r\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n        : f => f\r\n    )\r\n  );\r\n\r\n  sagaMiddleware.run(rootSaga);\r\n  return store;\r\n};\r\n\r\nexport default createAppStore;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getIsAuthorized } from '../../modules/Auth';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PrivateRoute extends Component {\r\n  renderRoute = routeProps => {\r\n    const { isAuthorized, component: RouteComponent } = this.props;\r\n\r\n    return isAuthorized === true ? (\r\n      <RouteComponent {...routeProps} />\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    );\r\n  };\r\n  render() {\r\n    const { component, ...rest } = this.props;\r\n    return <Route {...rest} render={this.renderRoute} />;\r\n  }\r\n}\r\n\r\nexport default connect(state => (\r\n  {\r\n    isAuthorized: getIsAuthorized(state)\r\n  }\r\n), null)(PrivateRoute);","import React, { PureComponent } from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux';\r\nimport { getIsAuthorized, logOut } from '../../modules/Auth';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,    \r\n    color: 'rgba(0, 0, 0, 0.87)'\r\n  },\r\n  link : {\r\n    textDecoration: 'none',\r\n    color: 'rgba(0, 0, 0, 0.87)'\r\n  }\r\n});\r\n\r\n\r\nclass App extends PureComponent {\r\n\r\n  logOut = () =>{\r\n    const {isAuthorized, logOut} = this.props \r\n    if (isAuthorized){\r\n      return logOut()\r\n    }\r\n  }  \r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Toolbar>            \r\n            <Typography variant=\"h5\" color=\"inherit\" className={classes.grow}>\r\n              Loft Taxi\r\n            </Typography>\r\n            <Button className={classes.button}>\r\n              <Link className={classes.link} to='/map'>\r\n                  Карта\r\n              </Link>\r\n            </Button>\r\n            <Button className={classes.button}>\r\n              <Link className={classes.link} to='/profile'>\r\n                  Профиль\r\n              </Link>\r\n            </Button>\r\n            <Button \r\n              className={classes.button}\r\n              onClick={this.logOut}>\r\n              Выйти\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}  \r\n\r\nexport default connect(\r\n  state => ({ isAuthorized: getIsAuthorized(state) }),\r\n  {logOut}\r\n)(withStyles(styles)(App));  \r\n","import React, { PureComponent } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport style from './Login.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { addLoginData, getIsError, getIsAuthorized } from '../../modules/Auth';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-around',\r\n    flexGrow: 0,\r\n    maxWidth: '25%',\r\n    height: '230px',\r\n    paddingTop: theme.spacing.unit * 2, \r\n    paddingBottom: theme.spacing.unit * 2,\r\n    \r\n  },\r\n\r\n  text: {\r\n    textAlign: 'center'\r\n  },\r\n   \r\n  container: {\r\n    display: 'flex',\r\n    width: '30%',\r\n    flexWrap: 'wrap',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  dense: {\r\n    marginTop: 16,\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n});\r\n\r\nclass Login extends PureComponent {\r\n  state={\r\n    login: '',\r\n    password:'',\r\n    //error: null\r\n}\r\n\r\nhandleChange = event => {\r\n  this.setState({\r\n      [event.target.name]: event.target.value.trim().toLowerCase(),            \r\n  });\r\n};\r\n\r\nhandleSubmit = () =>{\r\n  const {login,password} = this.state \r\n  const {addLoginData} = this.props\r\n  addLoginData({login, password})\r\n}    \r\n\r\n  \r\n  render() {\r\n    const { isAuthorized} = this.props\r\n    return(\r\n      !isAuthorized\r\n      ? this.renderLoginForm()\r\n      : <Redirect to=\"/map\"/>\r\n    )}\r\n\r\n\r\n    renderLoginForm = () => {\r\n      const { isError} = this.props\r\n      const { classes } = this.props;\r\n      const { login, password } = this.state;\r\n      return (\r\n        <Grid\r\n          alignItems=\"center\"\r\n          className={style.root}\r\n          direction=\"column\"\r\n          justify=\"space-between\"\r\n          container\r\n        >\r\n        <Paper className={classes.root}>\r\n            <Typography variant=\"h4\" color=\"inherit\" className={classes.text}>\r\n                Войти\r\n            </Typography>      \r\n            <FormControl \r\n              className={classes.formControl} \r\n              error={isError}\r\n              required>\r\n            <Input\r\n              id=\"component-error\"\r\n              value={login}\r\n              name=\"login\"\r\n              type=\"email\"\r\n              placeholder=\"Имя пользователя *\"\r\n              onChange={this.handleChange}\r\n              aria-describedby=\"component-error-text\"\r\n            />\r\n            {\r\n              isError\r\n              ? <FormHelperText id=\"component-error-text\">Heверный логин</FormHelperText>\r\n              : null\r\n            }          \r\n          </FormControl>  \r\n          <FormControl \r\n              className={classes.formControl} \r\n              error={isError}\r\n              required>\r\n            <Input\r\n              id=\"component-error\"\r\n              value={password}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Пароль пользователя *\"\r\n              onChange={this.handleChange}\r\n              aria-describedby=\"component-error-text\"\r\n            />\r\n            {\r\n              isError\r\n              ? <FormHelperText id=\"component-error-text\">Heверный пароль</FormHelperText>\r\n              : null\r\n            }\r\n            </FormControl>           \r\n            <Button \r\n              variant=\"outlined\" \r\n              color=\"primary\" \r\n              className={classes.button}\r\n              onClick={this.handleSubmit}\r\n              >\r\n              Войти\r\n            </Button>\r\n        </Paper>  \r\n        </Grid>    \r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => (\r\n  { \r\n    isError: getIsError(state),\r\n    isAuthorized: getIsAuthorized(state)\r\n  }\r\n), { addLoginData })(withStyles(styles)(Login));\r\n","import React, { Component } from 'react';\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport './Map.css';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { connect } from 'react-redux';\r\nimport {getIsOrder, getRouteList} from '../../modules/Order';\r\n\r\nconst styles = ({\r\n  container :{\r\n    position: 'relative',\r\n    zIndex: '-10'\r\n},\r\n\r\nmap : {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    bottom: '0px',\r\n    left: '0px',\r\n    right: '0px',\r\n    width: '100%',\r\n    height: '592px'\r\n}\r\n})\r\n\r\nclass Map extends Component {\r\n  map = null;\r\n  mapContainer = React.createRef();\r\n  route = ''\r\n\r\n  componentDidMount() {    \r\n    mapboxgl.accessToken = \"pk.eyJ1Ijoic2hhYmFsaW5hc3R5YSIsImEiOiJjanJqdW5rd3AwMGhwM3lvNnZsaTN0NXRnIn0.tr3NyP--TM-FEtyZeHIHFA\";\r\n    this.map = new mapboxgl.Map({\r\n      container: this.mapContainer.current,\r\n      style: \"mapbox://styles/mapbox/streets-v9\",\r\n      center: [30.2656504, 59.8029126],\r\n      zoom: 15\r\n    });    \r\n  }\r\n\r\n  componentDidUpdate(){    \r\n    const {isOrder, routeList} = this.props    \r\n    if (isOrder){  \r\n      this.route=`route${routeList[0]}&${routeList[-1]}`\r\n      this.toggleVisible('visible')   \r\n      this.mapFlyTo()  \r\n      } else {\r\n        this.toggleVisible('none')      \r\n    }\r\n  }\r\n\r\n  toggleVisible(option){\r\n    const {isOrder} = this.props\r\n    if(this.map.getLayer(this.route)){\r\n        this.map.setLayoutProperty(this.route, 'visibility', option);\r\n    }\r\n    else {\r\n      if (isOrder){\r\n        this.addRouteLayer()\r\n      }\r\n    }\r\n  }\r\n\r\n  addRouteLayer(){\r\n    const {routeList} = this.props\r\n    this.map.addLayer({\r\n      \"id\": this.route,\r\n      \"type\": \"line\",\r\n      \"source\": {\r\n          \"type\": \"geojson\",\r\n          \"data\": {\r\n              \"type\": \"Feature\",\r\n              \"properties\": {},\r\n              \"geometry\": {\r\n                  \"type\": \"LineString\",\r\n                  \"coordinates\": routeList\r\n              }\r\n          }\r\n      },\r\n      \"layout\": {\r\n        \"line-join\": \"round\",\r\n        \"line-cap\": \"round\"\r\n        },\r\n      \"paint\": {\r\n        \"line-color\": \"#888\",\r\n        \"line-width\": 8\r\n        }\r\n      }); \r\n  }\r\n\r\n  mapFlyTo(){\r\n    const {routeList} = this.props\r\n    this.map.flyTo({\r\n      center: routeList[0],\r\n      zoom: 15,\r\n      speed: 0.8,\r\n      curve: 1,\r\n      easing(t) {\r\n        return t;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.map.remove();\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n    <div className={classes.container}>\r\n      <div className={classes.map} ref={this.mapContainer} />\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isOrder: getIsOrder(state),\r\n  routeList: getRouteList(state)\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(withStyles(styles)(Map));","import React, { Component } from 'react';\r\nimport { load, save } from '../../localstorage';\r\n\r\nconst withLocalstorage = (localStorageKey, initData) => (WrappedComponent) => {\r\n    return class extends Component {\r\n\r\n        static displayName = \"localstorage HOC\"\r\n        \r\n        saveData = (data) => {\r\n            save(localStorageKey, data)\r\n            this.forceUpdate();\r\n        }\r\n\r\n        savedData = () =>  {\r\n            return load(localStorageKey) || initData\r\n        }\r\n\r\n        render(){\r\n            return(\r\n                <WrappedComponent \r\n                    saveData={this.saveData} \r\n                    savedData={this.savedData(localStorageKey)}\r\n                />\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default withLocalstorage;","function load(localStorageKey) {  \r\n    const stringData = window.localStorage.getItem(localStorageKey);\r\n    let data = null;\r\n  \r\n    try {\r\n      data = JSON.parse(stringData);\r\n    } catch (e) {}\r\n  \r\n    return data;\r\n  }\r\n  \r\n  function save(localStorageKey, data) {\r\n    window.localStorage.setItem(localStorageKey, JSON.stringify(data));\r\n  }\r\n  \r\n  export { load, save }; ","import React, { PureComponent } from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Map from '../MainMap';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport withLocalstorage from '../../HOC/WithLocalStorage';\r\nimport { connect } from 'react-redux';\r\nimport { getIsOrder } from '../../modules/Order';\r\nimport {createTaxiOrder, resetTaxiOrder} from '../../modules/Order';\r\nimport { getAddressList } from './api';\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        position:'relative',\r\n        margin:0,\r\n        padding:0      \r\n    },\r\n    form_container:{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        flexDirection: 'column',\r\n        justifyContent: 'left',\r\n        //width: '40%'\r\n    },\r\n    container: {\r\n        ...theme.mixins.gutters(),\r\n        paddingTop: theme.spacing.unit * 2, \r\n        paddingBottom: theme.spacing.unit * 2, \r\n        width: 340,\r\n        position: 'absolute',\r\n        top: '20px',\r\n        left: '20px'\r\n      },    \r\n    grow: {\r\n      textAlign: 'left',\r\n      paddingBottom: '20px'\r\n    },\r\n    paragraph: {\r\n        width: '100%',\r\n        textAlign: 'left',\r\n        paddingBottom: '20px',\r\n      },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        paddingBottom: '20px'\r\n      },\r\n    button: {\r\n      margin: theme.spacing.unit,\r\n      color: '#3f51b5',\r\n      border: '1px solid rgba(63, 81, 181, 0.5)'\r\n    },\r\n    link : {\r\n        textDecoration: 'none',\r\n        color: '#3f51b5',\r\n      }    \r\n  });\r\n\r\nclass TaxiOrder extends PureComponent {\r\n\r\n    state={\r\n        address:{\r\n            from: '',\r\n            to: ''\r\n        },\r\n        addressList: [],      \r\n    }\r\n\r\n    componentDidMount(){\r\n        const { savedData } = this.props\r\n        if(savedData!== []){           \r\n            getAddressList().then(jsonData => {\r\n                this.setState({ \r\n                    addressList: jsonData.addresses\r\n                })                                \r\n            })  \r\n        }\r\n    }       \r\n\r\n    handleChange = direction  => event => {\r\n        const { address } = this.state\r\n        this.setState({\r\n            address: { ...address, [direction]: event.target.value }           \r\n        });\r\n      };\r\n\r\n    handleReset = () =>{\r\n        const {resetTaxiOrder} = this.props \r\n        resetTaxiOrder()\r\n        this.setState({\r\n            address: { from: '', to: '' }           \r\n        });\r\n    } \r\n\r\n    handleSubmit = () =>{\r\n        const { address } = this.state\r\n        const {createTaxiOrder} = this.props \r\n        this.setState({\r\n            order: true          \r\n        });       \r\n        createTaxiOrder({from: address.from, to: address.to})\r\n        \r\n    } \r\n\r\n    addressFilter(value, direction) {\r\n        const { address} = this.state\r\n        if (value !== address[direction]){\r\n            return(\r\n            <MenuItem key={value} value={value}>\r\n              {value}\r\n            </MenuItem>\r\n            )\r\n        }\r\n      }\r\n\r\n    render() {            \r\n        const { savedData } = this.props\r\n        const { classes, isOrder } = this.props;  \r\n        return (\r\n            <div className={classes.root}>\r\n                <Map/>\r\n                {\r\n                    savedData.length !== 0 \r\n                    ? (\r\n                        isOrder\r\n                        ? this.renderResetForm()\r\n                        : this.renderOrderForm()\r\n                        )\r\n                    \r\n                    : this.renderProfileLink()\r\n                }\r\n            </div>\r\n            \r\n    )}\r\n\r\n    renderResetForm = () => {\r\n        const { classes } = this.props;  \r\n        return (\r\n            <Paper className={classes.container}>\r\n                <Typography variant=\"h4\" color=\"inherit\" className={classes.grow}>\r\n                    Заказ размещен\r\n                </Typography>\r\n                <Typography className={classes.paragraph} component=\"p\">\r\n                    Ваше такси уже едет к вам. Прибудет приблизительно через 10 минут.\r\n                </Typography>\r\n                <Button \r\n                    className={classes.button} \r\n                    onClick={this.handleReset}\r\n                    >\r\n                    Сделать новый заказ\r\n                </Button>\r\n            </Paper>\r\n        )\r\n    }\r\n    \r\n    renderProfileLink = () => {\r\n        const { classes } = this.props;          \r\n        return (\r\n            <Paper className={classes.container}>\r\n                <Typography variant=\"h4\" color=\"inherit\" className={classes.grow}>\r\n                    Заполните платежные данные\r\n                </Typography>\r\n                <Typography className={classes.paragraph} component=\"p\">\r\n                    Укажите информацию о банковской карте, чтобы сделать заказ\r\n                </Typography>\r\n                <Button className={classes.button} >\r\n                    <Link className={classes.link} to='/profile'>\r\n                        Перейти в профиль\r\n                    </Link>\r\n                </Button>\r\n            </Paper>\r\n        )\r\n    }\r\n\r\n    renderOrderForm = () => {\r\n        const { classes } = this.props;  \r\n        const {address, addressList} = this.state\r\n        return (\r\n            <Paper className={classes.container}>\r\n            <form className={classes.form_container} noValidate autoComplete=\"off\">\r\n                <Typography variant=\"h4\" color=\"inherit\" className={classes.grow}>\r\n                    Вызов такси\r\n                </Typography>\r\n                <TextField\r\n                    id=\"addressFrom\"\r\n                    select                  \r\n                    name=\"from\"\r\n                    value={address.from}\r\n                    placeholder=\"Выберите адрес отправления\"\r\n                    onChange={this.handleChange('from')}\r\n                    className={classNames(classes.margin, classes.textField)}                    \r\n                >\r\n                   {   addressList.length !== 0\r\n                        //? addressList.filter(this.addressFilter(address.from))\r\n                        ? addressList.map(option => {\r\n                            if(address.to !== option)\r\n                            return (\r\n                            <MenuItem key={option} value={option}>\r\n                              {option}\r\n                            </MenuItem>)\r\n                            return null\r\n                          })\r\n                        : null}                    \r\n                </TextField>\r\n                <TextField\r\n                    id=\"addressTo\"\r\n                    select          \r\n                    name=\"to\"\r\n                    value={address.to}\r\n                    placeholder=\"Выберите адрес прибытия\"\r\n                    onChange={this.handleChange('to')}\r\n                    className={classNames(classes.margin, classes.textField)}                    \r\n                >\r\n                    {   addressList.length !== 0\r\n                        //? addressList.filter(this.addressFilter(address.from))\r\n                        ? addressList.map(option => {\r\n                            if(address.from !== option)\r\n                            return (\r\n                            <MenuItem key={option} value={option}>\r\n                              {option}\r\n                            </MenuItem>)\r\n                            return null\r\n                          })\r\n                        : null} \r\n                    \r\n                </TextField>\r\n                {\r\n                address.to !== '' && address.from !== ''\r\n                ? \r\n                <Button \r\n                    className={classes.button} \r\n                    color=\"inherit\"\r\n                    onClick={this.handleSubmit}\r\n                    >\r\n                    Вызвать такси\r\n                </Button>\r\n                : \r\n                <Button disabled className={classes.button}>\r\n                    Вызвать такси\r\n                </Button>\r\n                }\r\n            </form>\r\n            </Paper>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default withLocalstorage('profile-data', [])(connect(state => (\r\n    { \r\n      isOrder: getIsOrder(state),\r\n    }),\r\n    {\r\n    createTaxiOrder, \r\n    resetTaxiOrder\r\n    }\r\n)(withStyles(styles)(TaxiOrder)))\r\n","export const getAddressList = () =>\r\n  fetch(    \r\n      'https://loft-taxi.glitch.me/addressList'\r\n    ).then(\r\n      response =>\r\n        response.status !== 200 \r\n        ? Promise.reject(response) \r\n        : response.json()\r\n    )\r\n","import React, {Component} from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {reduxForm, Field} from 'redux-form'\r\nimport withLocalstorage from '../../HOC/WithLocalStorage';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst styles = theme => ({\r\n    grid: {\r\n        ...theme.mixins.gutters(),\r\n        height: '700px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingTop: theme.spacing.unit * 2, \r\n        paddingBottom: theme.spacing.unit * 2,\r\n        \r\n      },\r\n    root: {\r\n        ...theme.mixins.gutters(),\r\n        paddingTop: theme.spacing.unit * 2, \r\n        paddingBottom: theme.spacing.unit * 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        width: '80%'\r\n      },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'left',\r\n        width: '100%'\r\n      },\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    paragraph: {\r\n        width: '100%',\r\n        textAlign: 'center'\r\n      },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        minWidth: '90%'\r\n      },\r\n      button: {\r\n        margin: theme.spacing.unit,\r\n        color: '#3f51b5',\r\n        border: '1px solid rgba(63, 81, 181, 0.5)'\r\n      },\r\n      link : {\r\n          textDecoration: 'none',\r\n          color: '#3f51b5',\r\n        }  \r\n  });  \r\n\r\n\r\n//const required = value => value ? undefined : 'Required'\r\nconst CVVLength = value => \r\n  value && value.length !== 3 ? 'Это поле должно иметь длину 3 символов' : undefined\r\nconst cardName = value =>\r\n    value && !/^[A-Za-z\\s]+$/i.test(value) ?\r\n    'Это поле может содержать только буквы латинского алфавита' : undefined\r\nconst cardNumber = value => \r\n    (value && !/^[\\d]+$/i.test(value)) || (value && value.length !== 8)?\r\n    'Это поле может содержать только цифры и иметь длину 8 символов' : undefined\r\n\r\nconst customField = ({ input, defaultValue, id, type, lable, placeholder, className, meta: { touched, error, warning } }) => {\r\n    return (\r\n    <div style={{ width: \"100%\" }}>\r\n        <div>\r\n        <TextField \r\n            {...input} \r\n            required \r\n            value={defaultValue}\r\n            placeholder={placeholder} \r\n            lable={lable}\r\n            className={className} \r\n            type={type} \r\n            id={id}\r\n            margin=\"normal\"\r\n            //variant=\"outlined\"\r\n            />\r\n        {touched && ((error && <p style={{ color: \"red\" }}>{error}</p>) || (warning && <p style={{ color: \"red\" }}>{warning}</p>))}\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nclass Profile extends Component {\r\n    state={\r\n        formValue:{\r\n            cardName:'',\r\n            cardNumber:'',\r\n            expDat: '',\r\n            CVV: ''\r\n        },\r\n        isSubmt: false\r\n    }\r\n\r\n    componentDidMount(){            \r\n        const { savedData } = this.props;  \r\n        if (savedData.length !== 0){\r\n            var tempObj = {\r\n                cardName:'',\r\n                cardNumber:'',\r\n                expDat: '',\r\n                CVV: ''\r\n            }\r\n            for (var field of savedData){\r\n                tempObj[field[0]] = field[1]  \r\n            }\r\n            this.setState({\r\n                formValue: tempObj       \r\n              })        \r\n        }\r\n    }\r\n\r\n    handleChange = event =>{\r\n        const { formValue } = this.state;  \r\n        this.setState({\r\n            formValue: {...formValue, [event.target.name]:event.target.value.trim()}\r\n        })\r\n    }\r\n\r\n    handleSubmit = (data) => {  \r\n        const { saveData} = this.props;\r\n        let newData = []      \r\n        for(var fieldName in data){\r\n            console.log(fieldName, data[fieldName])\r\n            newData.push([fieldName,data[fieldName]])\r\n            \r\n            //fieldSubmit({fieldName, value:data[fieldName]})\r\n        }  \r\n        saveData(newData)\r\n        this.setState({\r\n            isSubmt: true\r\n        })      \r\n        console.log('submission success')\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;      \r\n        const { handleSubmit } = this.props        \r\n        const { isSubmt } = this.state\r\n        return (\r\n            <Grid\r\n                alignItems=\"center\"\r\n                className={classes.grid}\r\n                direction=\"column\"\r\n                justify=\"space-between\"\r\n                container\r\n            >                \r\n                {\r\n                isSubmt \r\n                ? this.renderMapLink(classes)\r\n                : this.renderForm(handleSubmit, classes)\r\n                }\r\n            </Grid>\r\n        )}\r\n\r\n    renderMapLink(classes){\r\n        return(            \r\n            <Paper className={classes.root}>\r\n                <Typography variant=\"h3\" color=\"inherit\" className={classes.grow}>\r\n                    Профиль\r\n                </Typography>\r\n                <Typography className={classes.paragraph} component=\"p\">\r\n                    Платежные данные обновлены. Теперь вы можете заказывать такси\r\n                </Typography>\r\n                <Button className={classes.button}>\r\n                    <Link className={classes.link} to='/map'>\r\n                        Перейти на карту\r\n                    </Link>\r\n                </Button>\r\n          </Paper>\r\n        )\r\n    }\r\n\r\n    renderForm(handleSubmit, classes) { \r\n        const {formValue} = this.state   \r\n        return (\r\n        <Paper className={classes.root}>\r\n            <Typography variant=\"h4\" color=\"inherit\">\r\n                Профиль\r\n            </Typography>\r\n            <form \r\n                className={classes.container}\r\n                onSubmit={handleSubmit(val => this.handleSubmit(val))}\r\n            >  \r\n            <Typography variant=\"h6\" color=\"inherit\">\r\n                Способ оплаты\r\n            </Typography>\r\n            <Field\r\n               // value={formValue.cardName !== '' ? formValue.cardName :undefined }\r\n                defaultValue={formValue.cardName }\r\n                onChange={this.handleChange}\r\n                validate={cardName}\r\n                name='cardName'\r\n                type='text'\r\n                id='card-name'\r\n                placeholder='Имя владельца *'                    \r\n                className={classes.textField}\r\n                component={customField}\r\n            />\r\n            <Field\r\n                defaultValue={formValue.cardNumber }\r\n                onChange={this.handleChange}\r\n                validate={cardNumber}\r\n                name='cardNumber'\r\n                type='text'\r\n                id='card-number'\r\n                placeholder='Номер карты *'\r\n                className={classes.textField}\r\n                component={customField}\r\n            />\r\n            <Field\r\n                defaultValue={formValue.expDat }\r\n                onChange={this.handleChange}\r\n                name='expDat'\r\n                type='date'\r\n                id='exp-dat'\r\n                lable='Дата окончания действия *'\r\n                className={classes.textField}\r\n                component={customField}\r\n            />\r\n            <Field\r\n                defaultValue={formValue.CVV }\r\n                onChange={this.handleChange}\r\n                validate={CVVLength}\r\n                name='CVV'\r\n                type='text'\r\n                id='cvv'\r\n                placeholder='CVV *'\r\n                lable='Last three digits on signature strip'\r\n                className={classes.textField}\r\n                component={customField}\r\n            />\r\n            <Button \r\n                type='submit'\r\n                variant=\"outlined\" \r\n                color=\"primary\" \r\n                className={classes.button}\r\n                >\r\n                Сохранить\r\n            </Button>\r\n        </form>       \r\n    </Paper>     \r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nProfile = reduxForm({\r\n    form: 'ProfileForm', // a unique name for this form\r\n  })(Profile);\r\n\r\nexport default withLocalstorage('profile-data', [])(withStyles(styles)(Profile));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport createStore from './store';\r\nimport { Provider } from 'react-redux';\r\nimport RootRouter from './components/RootRouter';\r\n\r\n\r\nconst store = createStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <RootRouter/>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\nimport PrivateRoute from '../PrivateRoute';\r\nimport App from '../App';\r\nimport Login from '../Login';\r\nimport TaxiOrder from '../TaxiOrder';\r\nimport Profile from '../Profile';\r\n//import { AuthProvider } from '../../context/Auth';\r\n// Мы оборачиваем наши роуты в несколько провайдеров\r\n// DataProvider - предоставляет обьект data с имейлами.\r\n// AuthProvider - предоставляет метод авторизации authorize\r\n//                и текущий статус isAuthorized\r\n// BrowserRouter - провайдер react-router-dom.\r\n\r\nexport default () => (\r\n  <BrowserRouter>\r\n    <div>\r\n      <App/>      \r\n      <Switch>          \r\n        <Route\r\n          path=\"/login\"\r\n          component={Login}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/map\"\r\n          component={TaxiOrder}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/profile\"\r\n          component={Profile}\r\n        />\r\n        <Redirect to=\"/login\"/>          \r\n      </Switch>\r\n    </div>\r\n  </BrowserRouter>\r\n);"],"sourceRoot":""}