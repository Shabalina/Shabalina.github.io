(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a,r,o,c,l=n(0),s=n.n(l),i=n(10),u=n.n(i),p=n(19),m=n(20),d=n(22),f=n(21),h=n(23),v=n(64),b=n.n(v),_=n(160),E=n(161),k=n(163),y=n(37),O=n(13),j=n(162),g=n(24),x=n(164),w=Object(x.a)("LOAD_REQUEST"),P=Object(x.a)("LOAD_SUCCESS"),S=Object(x.a)("LOAD_FAILURE"),C=Object(x.a)("FILTER_REQUEST"),N=Object(x.a)("FILTER_SUCCESS"),L=Object(x.a)("FILTER_FAILURE"),A=Object(j.a)((a={},Object(O.a)(a,w,function(e,t){return t.payload?e:[]}),Object(O.a)(a,C,function(){return[]}),Object(O.a)(a,P,function(e,t){return e.concat(t.payload.pokemons)}),Object(O.a)(a,N,function(e,t){return t.payload}),a),[]),T=Object(j.a)((r={},Object(O.a)(r,P,function(e,t){return t.payload.next}),Object(O.a)(r,N,function(){return null}),r),null),D=Object(j.a)((o={},Object(O.a)(o,w,function(){return!0}),Object(O.a)(o,P,function(){return!1}),Object(O.a)(o,S,function(){return!1}),Object(O.a)(o,C,function(){return!0}),Object(O.a)(o,N,function(){return!1}),Object(O.a)(o,L,function(){return!1}),o),!1),I=Object(j.a)((c={},Object(O.a)(c,w,function(){return null}),Object(O.a)(c,S,function(e,t){return t.payload}),Object(O.a)(c,C,function(){return null}),Object(O.a)(c,L,function(e,t){return t.payload}),c),null),R=Object(g.c)({pokemons:A,next:T,isLoading:D,error:I}),F=n(25),M=n.n(F),B=n(17),U=function(e){return fetch(e,{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e})},q=function(e){return fetch("https://pokeapi.co/api/v2/type/".concat(e),{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e.pokemon})},H=function(e){return fetch(e,{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e})},X=M.a.mark(z),G=M.a.mark(J),V=M.a.mark(Q),W=M.a.mark(Z);function z(e){var t,n,a;return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(B.b)(q,t);case 4:return n=r.sent,r.next=7,Object(B.a)(n.map(function(e){return Object(B.b)(H,e.pokemon.url)}));case 7:return a=r.sent,r.next=10,Object(B.d)(N(a));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(B.d)(L(r.t0));case 16:case"end":return r.stop()}},X,this,[[1,12]])}function J(e){var t,n,a;return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload?e.payload:"https://pokeapi.co/api/v2/pokemon/",r.prev=1,r.next=4,Object(B.b)(U,t);case 4:return n=r.sent,r.next=7,Object(B.a)(n.results.map(function(e){return Object(B.b)(H,e.url)}));case 7:return a=r.sent,r.next=10,Object(B.d)(P({next:n.next,pokemons:a}));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(B.d)(S(r.t0));case 16:case"end":return r.stop()}},G,this,[[1,12]])}function Q(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.e)(w,J);case 2:case"end":return e.stop()}},V,this)}function Z(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.c)(Q);case 2:return e.next=4,Object(B.e)(C,z);case 4:case"end":return e.stop()}},W,this)}var K=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={filterValue:"none"},n.handleChange=function(e){var t=n.state.filterValue,a=n.props,r=a.filterRequest,o=a.loadRequest;e.target.value!==t&&(n.setState({filterValue:e.target.value}),"none"!==e.target.value?r(e.target.value):o())},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderMenuItems",value:function(){return this.state.typeList.map(function(e){return s.a.createElement(k.a,{key:e,value:e},e)})}},{key:"render",value:function(){var e=this.props.types,t=this.state.filterValue;return s.a.createElement("div",{className:b.a.container},s.a.createElement(_.a,{className:b.a.title},"Filter pokemons by type"),s.a.createElement(E.a,{id:"types",select:!0,name:"types",value:t,placeholder:"Chose type",onChange:this.handleChange},e.length?e.map(function(e){return s.a.createElement(k.a,{key:e,value:e},e)}):null,s.a.createElement(k.a,{key:"none",value:"none"},"none")))}}]),t}(l.Component),Y={filterRequest:C,loadRequest:w},$=Object(y.b)(null,Y)(K),ee=n(30),te=n.n(ee),ne=n(68),ae=n.n(ne),re=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={statArr:null},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.stats,t=[];e.forEach(function(e){switch(e.stat.name.toString()){case"speed":t.push({name:"Speed",val:e.base_stat});break;case"special-defense":t.push({name:"Sp. Def",val:e.base_stat});break;case"special-attack":t.push({name:"Sp. Atk",val:e.base_stat});break;case"defense":t.push({name:"Defense",val:e.base_stat});break;case"attack":t.push({name:"Attack",val:e.base_stat});break;case"hp":t.push({name:"HP",val:e.base_stat})}}),this.setState({statArr:t.reverse()})}},{key:"determColor",value:function(e){switch(!0){case e<34:return"blue";case e<67:return"orange";case e<101:return"green";default:return"red"}}},{key:"render",value:function(){var e=this,t=this.state.statArr;return t?s.a.createElement("table",null,s.a.createElement("tbody",null,t.map(function(t){var n=e.determColor(t.val);return s.a.createElement("tr",{key:t.name},s.a.createElement("td",{style:{width:"15%"}},t.name),s.a.createElement("td",{style:{textAlign:"center",width:"10%"}},t.val),s.a.createElement("td",null,s.a.createElement("div",{className:ae.a.bar_container},s.a.createElement("div",{className:ae.a.bar,style:{width:t.val+"%",border:"2px solid ".concat(n),backgroundColor:"".concat(n)}}))))}))):null}}]),t}(l.Component),oe=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"addPad",value:function(e,t){var n=t-(""+e).length;return(n>0?new Array(++n).join("0"):"")+e}},{key:"toFeet",value:function(e){var t=3.28*e,n=Math.floor(t),a=12*(t-n);return n+"'"+this.addPad(Math.round(a),2)+"'' "}},{key:"render",value:function(){var e=this.props,t=e.pokemon,n=e.onClick;return s.a.createElement("div",{className:te.a.container},s.a.createElement("div",{className:te.a.main},s.a.createElement("div",{className:te.a.avatar},s.a.createElement("img",{className:te.a.avatar_img,src:t.sprites.front_default?t.sprites.front_default:null,alt:t.name,onClick:n})),s.a.createElement("div",{className:te.a.mainData},s.a.createElement("h4",{className:te.a.title},"Pok\xe9dex data"),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"National \u2116"),s.a.createElement("td",{style:{fontWeight:"bold"}},this.addPad(t.id,3))),s.a.createElement("tr",null,s.a.createElement("td",null,"Type"),s.a.createElement("td",{style:{display:"inline-flex"}},t.types.map(function(e,t){return s.a.createElement("div",{key:t,className:te.a.typeBox},e.type.name)}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Species"),s.a.createElement("td",null,t.species.name)),s.a.createElement("tr",null,s.a.createElement("td",null,"Height"),s.a.createElement("td",null,this.toFeet(parseInt(t.height)/10),"(",parseInt(t.height)/10," m)")),s.a.createElement("tr",null,s.a.createElement("td",null,"Weight"),s.a.createElement("td",null,Math.round(parseInt(t.weight)/4.5359237*10)/10,"lbs (",Math.round(parseInt(t.weight)/10*10)/10,"kg)")),s.a.createElement("tr",null,s.a.createElement("td",null,"Abilities"),s.a.createElement("td",null,t.abilities.map(function(e,t){var n=e.is_hidden?"(hidden)":"";return s.a.createElement("p",{key:t,style:{color:"blue"}},e.ability.name," ",n)}))))))),s.a.createElement("div",{className:te.a.stat},s.a.createElement("h4",{className:te.a.title_stats},"Base stats"),s.a.createElement(re,{stats:t.stats})))}}]),t}(l.PureComponent),ce=function(e){return fetch(e,{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e})},le=n(69),se=n.n(le),ie=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).findTypes=function(){var e=n.props.pokemon,t="";return e.types.forEach(function(e){t+=""+e.type.name}),t},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.pokemon;return s.a.createElement("div",{className:se.a.container},s.a.createElement("div",{className:se.a.card},s.a.createElement("img",{src:n.sprites.front_default?n.sprites.front_default:null,alt:n.name}),s.a.createElement("p",{style:{color:"#777879"}},"#",t),s.a.createElement("p",{style:{color:"blue",fontWeight:"bold"}},n.name),n.types.length?s.a.createElement("p",{style:{color:"#cea502",fontWeight:"bold"}},this.findTypes()):s.a.createElement("p",null,"Has no types")))}}]),t}(l.Component),ue=n(32),pe=n.n(ue),me=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).renderMiniCards=function(e,t){return s.a.createElement(ie,{id:t,pokemon:e})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.clickedPoky,n=e.to,a=e.from,r=e.closePopup;return s.a.createElement("div",{className:pe.a.popup},s.a.createElement("button",{onClick:r},"X"),s.a.createElement("div",{className:pe.a.popup_inner},s.a.createElement("div",{className:pe.a.column},s.a.createElement("p",{className:pe.a.column_title},"Evolve from"),"none"!==a?a.pokemons.map(function(e){return s.a.createElement(ie,{key:e.id,id:a.id,pokemon:e})}):s.a.createElement("p",null,"Has no ancestor")),s.a.createElement("div",{className:pe.a.column},s.a.createElement("p",{className:pe.a.column_title},"Species"),s.a.createElement(ie,{id:t.id,pokemon:t.pokemon})),s.a.createElement("div",{className:pe.a.column},s.a.createElement("p",{className:pe.a.column_title},"Evolve to"),"none"!==n?n.pokemons.map(function(e){return s.a.createElement(ie,{key:e.id,id:n.id,pokemon:e})}):s.a.createElement("p",null,"Has no descendants"))))}}]),t}(l.Component),de=n(58),fe=n.n(de),he=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={pokemonList:[],target:null,showPopup:!1,specId:null,from:null,to:null},n.handlePokemonClick=function(e,t){var a=n.state.specId;n.setState({target:e}),a&&n.setState({target:e,to:null,from:null,specId:null}),n.retrieveEvolutData(e),n.showPopup()},n.retrieveEvolutData=function(e){return ce(e.species.url).then(function(e){if(n.setState({specId:e.id}),e.evolves_from_species){var t={};ce(e.evolves_from_species.url).then(function(e){return t.id=e.id,n.retrivePokemons(e.varieties)}).then(function(e){t.pokemons=e,n.setState({from:t})})}else n.setState({from:"none"});if(e.evolution_chain){var a={};ce(e.evolution_chain.url).then(function(e){var t=n.findDesc(e.chain);t?ce(t).then(function(e){return a.id=e.id,n.retrivePokemons(e.varieties)}).then(function(e){a.pokemons=e,n.setState({to:a})}):n.setState({to:"none"})})}})},n.showPopup=function(){n.state.showPopup||n.setState({showPopup:!0})},n.closePopup=function(){n.setState({showPopup:!1})},n.retrivePokemons=function(e){return Promise.all(e.map(function(e){return ce(e.pokemon.url)})).then(function(e){return e})},n.renderEvolutionCard=function(){var e=n.state,t=e.specId,a=e.to,r=e.from,o={id:t,pokemon:n.state.target};return console.log("res list",a,r,t),s.a.createElement(me,{clickedPoky:o,closePopup:n.closePopup,to:a,from:r})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"findDesc",value:function(e){var t=this.state.target;return console.log(e),e.species.name===t.species.name?e.evolves_to[0]?e.evolves_to[0].species.url:null:e.evolves_to[0]?this.findDesc(e.evolves_to[0]):null}},{key:"renderPokemons",value:function(){var e=this;return this.props.pokemons.map(function(t){return s.a.createElement(oe,{key:t.id,pokemon:t,onClick:e.handlePokemonClick.bind(null,t)})})}},{key:"render",value:function(){var e=this.props,t=e.pokemons,n=e.isLoading,a=e.error,r=this.state,o=r.showPopup,c=r.to,l=r.from;return s.a.createElement("div",{className:fe.a.container},t?this.renderPokemons():null,n?s.a.createElement("p",{className:fe.a.message},"Pok\xe9mons are loading..."):null,a?s.a.createElement("p",{style:{color:"red"},className:fe.a.message},"Error is happend ",a.text):null,o&&c&&l?this.renderEvolutionCard():null)}}]),t}(l.Component),ve=Object(y.b)(function(e){return{pokemons:e.all.pokemons,isLoading:e.all.isLoading,error:e.all.error}},null)(he),be=n(79),_e=n.n(be),Ee=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={typeList:[]},n.handleScroll=function(e){var t=n.props,a=t.next,r=t.loadRequest,o=e.target;o.scrollHeight-o.scrollTop===o.clientHeight&&a&&r(a)},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.loadRequest)("https://pokeapi.co/api/v2/pokemon/?limit=20"),fetch("https://pokeapi.co/api/v2/type/?limit=100",{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e.results}).then(function(t){return e.setState({typeList:t.map(function(e){return e.name})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.typeList;return s.a.createElement(l.Fragment,null,s.a.createElement($,{types:e}),s.a.createElement("div",{className:_e.a.container,onScroll:this.handleScroll},s.a.createElement(ve,null)))}}]),t}(l.Component),ke={loadRequest:w},ye=Object(y.b)(function(e){return{next:e.all.next}},ke)(Ee),Oe=n(80),je=M.a.mark(xe),ge=Object(g.c)({all:R});function xe(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.c)(Z);case 2:case"end":return e.stop()}},je,this)}var we=function(){var e=Object(Oe.a)(),t=Object(g.e)(ge,Object(g.d)(Object(g.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return e.run(xe),t},Pe=(n(125),we());u.a.render(s.a.createElement(y.a,{store:Pe},s.a.createElement(ye,null)),document.getElementById("root"))},30:function(e,t,n){e.exports={container:"Pokemon_container__1njuX",main:"Pokemon_main__1zoSP",avatar:"Pokemon_avatar__eMHM-",avatar_img:"Pokemon_avatar_img__1iE42",mainData:"Pokemon_mainData__2ky9x",stat:"Pokemon_stat__6aBs5",title:"Pokemon_title__3fOse",title_stats:"Pokemon_title_stats__1uZDL",typeBox:"Pokemon_typeBox__B9r_w"}},32:function(e,t,n){e.exports={popup:"EvolutionCard_popup__p7wS4",popup_inner:"EvolutionCard_popup_inner__1kEzr",column:"EvolutionCard_column__3Wnez",column_title:"EvolutionCard_column_title__26Ofb"}},58:function(e,t,n){e.exports={container:"PokemonList_container__1AytU",message:"PokemonList_message__1AabJ"}},64:function(e,t,n){e.exports={title:"TypeList_title__1vFIh",textField:"TypeList_textField__uoibG",container:"TypeList_container__2ZO0z"}},68:function(e,t,n){e.exports={bar_container:"BaseStats_bar_container__2NQ0i",bar:"BaseStats_bar__1m9tZ"}},69:function(e,t,n){e.exports={container:"MiniPokyCard_container__28C6T",card:"MiniPokyCard_card__2vPqX"}},79:function(e,t,n){e.exports={container:"App_container__1E0B3"}},82:function(e,t,n){e.exports=n(127)}},[[82,2,1]]]);
//# sourceMappingURL=main.64e639e6.chunk.js.map